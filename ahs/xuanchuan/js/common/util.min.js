function validateSubmitParams(form_id,runBackground){var errorTemplate="<div class='error_hint'><div class='error_hint_icon png'></div><span class='error_hint_text'></span></div>",needValidateInputs="string"==typeof form_id?$("#"+form_id).find(".validate"):form_id.find(".validate"),tip="",validateResult=!0,unValidatedInputs=new Array,preControllerName="",showError=function(t,e,o){var i=$(errorTemplate);i.find(".error_hint_text").text(t),o&&i.find(".error_hint_arrow").removeClass("error_hint_arrow").addClass(o),i.insertAfter($("#"+e)).addClass("error_hint_show")};if($(".error_hint").remove(),$.each(needValidateInputs,function(i,n){n=$(n);var tmp=n.val(),param=eval("("+n.val()+")");switch(preControllerName=param.controller_name,param.validate){case"required":if(!RequiredValidate(form_id,param.controller_name,param.type)){validateResult=!1;var hint_id=param.hint_id;runBackground||showError(param.tip,hint_id,param.Class),unValidatedInputs.push($("#"+hint_id))}break;case"mail":if(!MailValidate(form_id,param.controller_name,param.type)){validateResult=!1;var hint_id=param.hint_id;runBackground||showError(param.tip,hint_id,param.Class),unValidatedInputs.push($("#"+hint_id))}break;case"phone":if(!PhoneValidate(form_id,param.controller_name,param.type)){validateResult=!1;var hint_id=param.hint_id;runBackground||showError(param.tip,hint_id,param.Class),unValidatedInputs.push($("#"+hint_id))}break;case"bomb":if(!BombValidate(form_id,param.controller_name,param.type)){validateResult=!1;var hint_id=param.hint_id;runBackground||showError(param.tip,hint_id,param.Class),unValidatedInputs.push($("#"+hint_id))}}}),unValidatedInputs.length>0&&!runBackground){var first_target=unValidatedInputs[0],divElement=function(t){return"none"==t.css("display")&&(t=t.parent()),t};first_target=divElement(first_target);var target_offset=first_target.offset().top;$("html,body").animate({scrollTop:target_offset},100)}return validateResult}function RequiredValidate(t,e,o){var i="string"==typeof t?$("#"+t):t;switch(o){case 1:var n=i.find("select[name="+e+"]");return 0!=n.val()&&""!=n.val()&&null!=n.val()&&void 0!=n.val();case 2:var a=i.find("input[type='checkbox'][name="+e+"]:checked");return a.length>0;case 3:var r=i.find("input[type='radio'][name="+e+"]:checked");return r.length>0;case 5:var s=i.find("input[type='text'][name="+e+"]"),l=s.attr("placeholder");return""!=s.val()&&s.val()!=l;case 6:var s=i.find("textarea[name="+e+"]"),p=navigator.userAgent.indexOf("MSIE")>0?s.text():s.val();return""!=p;default:return!0}}function PhoneValidate(t,e,o){var i="string"==typeof t?$("#"+t):t;switch(o){case 5:var n=i.find("input[type='text'][name="+e+"]");return!(""!=n.valueExcludePlaceHolder()&&!phone_req.test(n.val()));default:return!0}}function MailValidate(t,e,o){var i="string"==typeof t?$("#"+t):t;switch(o){case 5:var n=i.find("input[type='text'][name="+e+"]");return!(""!=n.val()&&!mail_req.test(n.val()));default:return!0}}function BombValidate(t,e,o){var i="string"==typeof t?$("#"+t):t;switch(o){case 3:var n=i.find("input[type='radio'][name="+e+"]:checked");return!(n.length>0&&n.data("bomb"));default:return!0}}function BOX_remove(t){window.onscroll=null,window.onresize=null,document.getElementById(t).style.display="none",$("#popwindow_shadow_bg").hide()}function BOX_fadeout(t){window.onscroll=null,window.onresize=null,document.getElementById(t).style.display="none",$("#popwindow_shadow_bg").fadeOut(1e3)}function BOX_show(t){return null!=document.getElementById(t)&&(BOX_layout(t),window.onresize=function(){BOX_layout(t)},window.onscroll=function(){BOX_layout(t)},!1)}function BOX_layout(t){var e=document.getElementById(t);return position_fix(t,e),e.style.display="block",!1}function position_fix(t,e){var o,i=document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,n=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;o=window.innerWidth?Math.min(window.innerWidth,document.documentElement.clientWidth):document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth;var a;a=window.innerHeight?Math.min(window.innerHeight,document.documentElement.clientHeight):document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight;var r=document.getElementById("popwindow_shadow_bg");r.style.position="absolute",r.style.left=i+"px",r.style.top=n+"px",r.style.width=o+"px",r.style.height=a+"px",r.style.display="block",e.style.position="absolute",e.style.zIndex=101,e.style.left=i+(o-$("#"+t).width())/2+"px",e.style.top=n+(a-$("#"+t).height())/2+"px"}function copyToClipboard(t){if(window.clipboardData)return window.clipboardData.clearData(),window.clipboardData.setData("Text",t),!0;if(navigator.userAgent.indexOf("Opera")!=-1)return window.location=t,!0;if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(e){return alert("被浏览器拒绝！\n请在浏览器地址栏输入'about:config'并回车\n然后将'signed.applets.codebase_principal_support'设置为'true'"),!1}var o=Components.classes["@mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard);if(!o)return!1;var i=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(!i)return!1;i.addDataFlavor("text/unicode");var n=new Object;new Object;n=Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);var a=t;n.data=a,i.setTransferData("text/unicode",n,2*a.length);var r=Components.interfaces.nsIClipboard;return!!o&&(o.setData(i,null,r.kGlobalClipboard),!0)}}function createVerify(t,e,o){function i(){return a?a.call(t):t}var n=$.extend({},createVerify.defaults,o);if(0===t.length||!$.isFunction(e))return function(){return!0};var a=!!t.is(":input")&&(t.valueExcludePlaceHolder||t.val);return t.on(n.type,function(){e(i())?(t.removeClass("error"),n.continueSuccess.apply(t)):(t.addClass("error"),n.continueError.apply(t))}),function(){return e(i())?(t.removeClass("error"),n.invokSuccess.apply(t),!0):(t.addClass("error"),n.invokError.apply(t),!1)}}function throttle(t,e){"use strict";var o,i=!0;return function(){var n=arguments,a=this;return i?(t.apply(a,n),i=!1):!o&&void(o=setTimeout(function(){clearTimeout(o),o=null,t.apply(a,n)},e||500))}}function trackAhsAnalytics(t,e,o,i){if(Piwik)try{var n=Piwik.getTracker();i?n.trackEvent(t,e,o,i):n.trackEvent(t,e,o)}catch(a){}}var loading_border="<div class='loading_border'><div class='loading_icon'></div>信息加载中，让眼睛放松一下吧！</div>",phone_req=/^1[34578][0-9]{9}$/,mail_req=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;ahs.PopWindow=function(t){var e=$("#popWindow");e.html(loading_border),BOX_show("popWindow"),$.ajax({type:"GET",url:aihuishouConfig.popwindowUrl+"/"+t.name,cache:!1,data:t.param,success:function(o){t.args&&(ahs.PopWindow.EventArgs=t.args),t.className&&(e.addClass(t.className),ahs.PopWindow.className=t.className),e.html(o),position_fix("popWindow",document.getElementById("popWindow"))}})},ahs.PopWindow.Loading=function(t){t&&BOX_show("popWindow"),$("#popWindow").html(loading_border)},ahs.PopWindow.Hide=function(){BOX_remove("popWindow"),ahs.PopWindow.className&&($("#popWindow").removeClass(ahs.PopWindow.className),ahs.PopWindow.className=null)},jQuery.cookie=function(t,e,o){if("undefined"==typeof e){var i=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var r=jQuery.trim(n[a]);if(r.substring(0,t.length+1)==t+"="){i=decodeURIComponent(r.substring(t.length+1));break}}return i}o=o||{},null===e&&(e="",o.expires=-1);var s="";if(o.expires&&("number"==typeof o.expires||o.expires.toUTCString)){var l;"number"==typeof o.expires?(l=new Date,l.setTime(l.getTime()+24*o.expires*60*60*1e3)):l=o.expires,s="; expires="+l.toUTCString()}var p=o.path?"; path="+o.path:"",c=o.domain?"; domain="+o.domain:"",d=o.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),s,p,c,d].join("")},Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)};var verifyUtils={nonEmpty:function(t){return t=$.trim(t),!!t},mobile:function(t){return t=$.trim(t),!!t&&(11===t.length&&/^1[3456789][0-9]{9}$/.test(t))},cardNo:function(t){return t=$.trim(t),!!t&&/^\d{16,19}$/.test(t)},username:function(t){if(t=$.trim(t),!t)return!1;var e=t.length;return!(0===e||e>50)},identy:function(t){return t=$.trim(t),!!t&&/^\d{15}$|^\d{18}$|^\d{17}x$/i.test(t)},extraClass:function(t,e){return t.hasClass(e)}};createVerify.defaults={type:"change",invokError:$.noop,invokSuccess:$.noop,continueError:$.noop,continueSuccess:$.noop};var getAnimateTime=function(){"use strict";function t(t){return/\ds$/i.test(t)?1e3*parseFloat(t):/\dms$/i.test(t)?parseFloat(t):0}return function(e){var o=0,i=0,n=t(e.css("transition-duration")),a=t(e.css("animation-duration"));return n&&(o=n+t(e.css("transition-delay"))),a&&(i=a+t(e.css("animation-delay"))),Math.max(o,i)}}();!function(t){"use strict";function e(e,i){return this.each(function(){var n=t(this),a=n.data("zww.popup"),r=t.extend({},o.DEFAULTS,e);a||n.data("zww.popup",a=new o(this,r)),r.load!==t.noop?r.isLoadOnce&&!i._isNoFirstLoad?(a.load(i),i._isNoFirstLoad=!0):r.isLoadOnce?a.show(i):a.load(i):a.show(i)})}var o=function(e,o){this.options=o,this.$wrap=t(this.options.wrapSelector),this.wrapPosition=this.$wrap.css("position"),this.wrapTop=this.$wrap.css("top"),this.wrapOverflow=this.$wrap.css("overflow-y"),this.isWrapOverflow=!1,this.scrollTop=0,this.isFirstShow=!0,this.$element=t(e),this.$dialog=this.$element.find(".popup-dialog"),this.$overlay=this.$element.find(".popup-overlay")};o.DEFAULTS={full:!1,keyboard:!0,hideOnOverlayClick:!0,wrapSelector:"body",isLoadOnce:!0,load:t.noop,show:t.noop,shown:t.noop,hide:t.noop,hidden:t.noop},o.prototype.load=function(t){this.options.load.call(this.$element,t).done(this.show(t))},o.prototype.show=function(e){this.relatedTarget=e,this.isShown||this.options.show.call(this.$element,e)===!1||(this.isShown=!0,this.isFirstShow&&(this.adjustDialog(),this.isFirstShow=!1),this.showPopup(),this.$element.addClass("in"),setTimeout(t.proxy(function(){this.resize(),this.escape(),this.close(),this.options.shown.call(this.$element,e)},this),getAnimateTime(this.$element)))},o.prototype.hide=function(){this.isShown&&this.options.hide.call(this.$element,this.relatedTarget)!==!1&&(this.isShown=!1,this.$element.removeClass("in").addClass("out"),setTimeout(t.proxy(function(){this.hidePopup(),this.resize(),this.escape(),this.close(),this.$element.removeClass("out"),this.options.hidden.call(this.$element,this.relatedTarget)},this),getAnimateTime(this.$element)))},o.prototype.showPopup=function(){var e=t(window),o=e.scrollTop();"auto"!==this.wrapOverflow&&"visible"!==this.wrapOverflow||(this.$wrap.outerHeight(!0)>t(window).height()?(this.isWrapOverflow=!0,this.$wrap.css("overflow-y","scroll")):this.isWrapOverflow=!1),this.$element.addClass("show"),this.$wrap.css({position:"fixed",top:-o}),e.scrollTop(o),this.scrollTop=o},o.prototype.hidePopup=function(){this.isWrapOverflow&&this.$wrap.css("overflow-y",this.wrapOverflow),this.$element.removeClass("show"),this.$wrap.css({position:this.wrapPosition,top:this.wrapTop}),t(window).scrollTop(this.scrollTop)},o.prototype.adjustDialog=function(){if(!this.options.full){var e,o=t(window).height();this.$element.hasClass("show")?e=this.$dialog.height():(this.$element.addClass("show"),e=this.$dialog.height(),this.$element.removeClass("show")),e>o&&this.$dialog.css("margin-top",-o/2)}},o.prototype.resize=function(){this.isShown?t(window).on("resize.zww.popup",t.proxy(throttle(this.adjustDialog),this)):t(window).off("resize.zww.popup")},o.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.zww.popup",t.proxy(function(t){27===t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.zww.popup")},o.prototype.close=function(){this.isShown?(this.$element.on("click.dismiss.zww.popup",".close",t.proxy(function(t){this.hide()},this)),this.options.hideOnOverlayClick&&this.$element.on("click.dismiss.zww.popup",".popup-overlay",t.proxy(function(t){this.hide()},this))):this.$element.off("click.dismiss.zww.popup")};var i=t.fn.popup;t.fn.popup=function(o){var i=t.extend({},t.fn.popup.defaults,o),n=t(i.popupSelector);return this.each(function(){t(this).on("click",function(o){t(this).is("a")&&o.preventDefault(),e.call(n,i,this)})}),this},t.fn.popup.defaults={popupSelector:"#js-popup-wrap"},t.fn.popup.noConflict=function(){return t.fn.popup=i,this},t("body").unbind("click.track-click").on("click.track-click",".ahs-track-click",function(){var e=t(this);trackAhsAnalytics(e.data("track-category"),e.data("track-action"),e.data("track-name"),1)}).unbind("hover.track-hover").on("hover.track-hover",".ahs-track-hover",function(){var e=t(this);trackAhsAnalytics(e.data("track-category"),e.data("track-action"),e.data("track-name"),1)})}(jQuery),function(t){t.fn.popup=function(e){function o(){h=u.scrollTop(),r.addClass(n.showClass),f.css({position:"fixed",top:-h}),u.scrollTop(h)}function i(){r.removeClass(n.showClass),f.css({position:m,top:w}),u.scrollTop(h)}var n=t.extend(!0,{},t.fn.popup.defaults,e),a=n.callback,r=t(n.popupWrapSelector),s=0,l=r.find(n.popupSelector),p=0,c=r.find(n.closeSelector),d="."+(+new Date+Math.random()),u=t(window),h=0,f=t("body"),m=f.css("position"),w=f.css("top"),v=t.noop;t(n.subPopupWrapSelector);return this.data("_popupNamespace",d),n.isFullScreen||(v=function(){r.hasClass(n.showClass)?(s=r.height(),p=l.outerHeight()):(r.addClass(n.showClass),s=r.height(),p=l.outerHeight(),r.removeClass(n.showClass)),p>s?l.css("margin-top",-s/2):l.css("margin-top",-p/2)}),v(),this.on("click"+d,function(){a.isAfterShow?a.show(o,r,v):(v(),o(),a.show(o,r,v))}),r.add(c).on("click"+d,function(e){n.isClosePreventDefault&&e.preventDefault(),a.isAfterHide?a.hide(i,r,t(this)):(i(),a.hide(i,r,t(this)))}),l.on("click"+d,function(t){t.stopPropagation()}),u.on("resize"+d,function(){setTimeout(v,300)}),this},t.fn.popup.defaults={isClosePreventDefault:!1,isFullScreen:!1,popupWrapSelector:"#js-popup-wrap",popupSelector:"div.popup",closeSelector:".close",subPopupWrapSelector:"#js-sub-popup-wrap",showClass:"show",callback:{isAfterShow:!1,isAfterHide:!1,show:t.noop,hide:t.noop}},t.fn.unbindPopup=function(e){var o=t.extend(!0,{},t.fn.popup.defaults,e),i=t(o.popupWrapSelector),n=i.find(o.popupSelector),a=i.find(o.closeSelector),r=this.data("_popupNamespace");return r&&(this.off("click"+r),i.add(a).off("click"+r),n.off("click"+r),t(window).off("resize"+r)),this}}(jQuery);